
/* ===== Design tokens ===== */
:root {
  --bg: #0b0c0f; --surface: #0f1115; --card: #11151a; --card-2: #0d1014;
  --text: #e7e9ee; --muted: #a6adbb; --border: #1b2230; --ring: #78e2a0;
  --accent: #20c997; --accent-2: #14b78a; --danger: #e35d6a;
  --shadow: 0 10px 30px rgba(0,0,0,.35); --radius: 14px;
}
@media (prefers-color-scheme: light) {
  :root { --bg:#f4f6f8; --surface:#fff; --card:#fff; --card-2:#f8fafc;
    --text:#0f172a; --muted:#5b6471; --border:#e6e9ef; --ring:#1a7f63;
    --accent:#0ea5a0; --accent-2:#0c8f8b; --danger:#b3261e;
    --shadow: 0 6px 18px rgba(16,24,40,.08); }
}
:root[data-theme="light"]{ color-scheme: light } :root[data-theme="dark"]{ color-scheme: dark }

*{ box-sizing:border-box } html,body{ height:100% }
body{
  margin:0; font:15px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background: radial-gradient(1200px 800px at 20% -10%, #1a2a24 0%, transparent 50%),
              radial-gradient(900px 700px at 120% 10%, #1c2340 0%, transparent 55%),
              var(--bg);
  color:var(--text);
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}
.app{ max-width: 1120px; margin:0 auto; padding:28px }
.card{ background: linear-gradient(180deg, var(--card), var(--card-2)); border:1px solid var(--border); border-radius:var(--radius); box-shadow:var(--shadow); padding:18px }
.card>h2{ margin:0 0 12px; font-size:18px; letter-spacing:.2px; display:flex; align-items:center; gap:10px }
.chip{ display:inline-flex; gap:6px; align-items:center; padding:2px 8px; background: color-mix(in oklab, var(--accent) 18%, var(--card)); color:var(--text); border:1px solid color-mix(in oklab, var(--accent) 32%, var(--border)); border-radius: 999px; font-size:12px }

/* Header & Footer */
.app-header{ position:sticky; top:0; z-index:15; background: color-mix(in oklab, var(--surface) 85%, transparent); backdrop-filter: blur(10px); border:1px solid var(--border); border-radius: calc(var(--radius) + 6px); padding:10px 14px; margin-bottom:16px; display:flex; align-items:center; gap:10px }
.brand{ display:flex; align-items:center; gap:10px; padding:6px 10px; border-radius:12px; background: linear-gradient(180deg, color-mix(in oklab, var(--card) 80%, transparent), var(--card-2)); border:1px solid var(--border) }
.brand .logo{ font-size:22px } .brand .title{ font-weight:700; letter-spacing:.2px }
.spacer{ flex:1 }
.nav-btn, .icon-btn{ background: var(--card); color:var(--text); border:1px solid var(--border); padding:8px 12px; border-radius:10px; cursor:pointer }
.icon-btn:hover, .nav-btn:hover{ border-color: color-mix(in oklab, var(--border), var(--accent)) }
.app-footer{ text-align:center; margin:18px 0 8px; color:var(--muted) }

/* Inputs */
label{ display:block; font-size:12px; color:var(--muted); margin:10px 0 6px }
.field{ position:relative }
.field input,.field select,.field textarea{ width:100%; padding:12px 12px 12px 38px; border-radius:12px; border:1px solid var(--border); outline:none; color:var(--text); background: linear-gradient(180deg, var(--surface), color-mix(in oklab, var(--surface) 85%, black 5%)); transition: border-color .15s, box-shadow .15s }
.field textarea{ min-height:84px; resize:vertical }
.field:focus-within input,.field:focus-within select,.field:focus-within textarea{ border-color: color-mix(in oklab, var(--accent) 55%, var(--border)); box-shadow: 0 0 0 3px color-mix(in oklab, var(--accent) 25%, transparent) }
.field .ico{ position:absolute; left:10px; top:50%; translate:0 -50%; color:var(--muted); font-size:16px; pointer-events:none }
.row{ display:grid; gap:12px } .row.cols-2{ grid-template-columns: repeat(2,1fr) } .row.cols-3{ grid-template-columns: repeat(3,1fr) }
@media (max-width:820px){ .row.cols-2,.row.cols-3{ grid-template-columns:1fr } }
.btn{ background: linear-gradient(180deg, var(--accent), var(--accent-2)); color:white; border:0; padding:10px 14px; border-radius:12px; cursor:pointer; font-weight:600 }
.btn.secondary{ background: linear-gradient(180deg, var(--surface), var(--card)); color:var(--text); border:1px solid var(--border) }
.btn.danger{ background: linear-gradient(180deg, var(--danger), color-mix(in oklab, var(--danger) 70%, black)) }
.btn:focus-visible{ outline:3px solid color-mix(in oklab, var(--accent) 40%, transparent); outline-offset:2px }

/* Uploader */
.drop{ border:1.5px dashed color-mix(in oklab, var(--border), var(--accent) 20%); border-radius:14px; padding:16px; text-align:center; background: linear-gradient(180deg, color-mix(in oklab, var(--card) 80%, transparent), var(--card-2)); color:var(--muted) }
.drop.drag{ border-color: var(--accent); color: var(--accent) }
.preview{ margin-top:10px; display:flex; gap:10px; flex-wrap:wrap } .preview img{ width:120px; height:90px; object-fit:cover; border-radius:10px; border:1px solid var(--border) }

/* Gallery big cards */
.big-card{ border:1px solid var(--border); border-radius:16px; overflow:hidden; background: linear-gradient(180deg, var(--surface), var(--card)); box-shadow: var(--shadow); margin-bottom:12px }
.big-card img{ width:100%; height:220px; object-fit:cover; display:block }
.big-card .meta{ padding:12px 14px }

/* Chart */
canvas{ width:100%; height:180px; display:block; border-radius:12px; background: linear-gradient(180deg, var(--surface), var(--card)); border:1px solid var(--border) }

/* Splash */
.splash{ position:fixed; inset:0; background:var(--bg); display:flex; align-items:center; justify-content:center; z-index:1000; transition:opacity .35s }
